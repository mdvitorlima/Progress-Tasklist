(this.webpackJsonptasklist=this.webpackJsonptasklist||[]).push([[0],{47:function(t,e,a){},75:function(t,e,a){},76:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(38),c=a.n(s),i=(a(47),a(48),a(17)),o=a(3),l=a(20),u=a(15),d=a(22),b={tasks:[]};var j=a(2),f=Object(u.c)(function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return function(t,a){for(var n=0;n<e.length;n++){var r=e[n](t,a);if(r!==t)return r}return t}}((function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;if("STORE_DATA"===a.type)return Object.assign({},e,{tasks:e.tasks.concat(a.payload.data)});if("DATA_LOADED"===a.type)return Object.assign({},e,{tasks:(t=e.tasks).concat.apply(t,Object(d.a)(a.payload.data))});if("UPDATE_DATA"===a.type){for(var n=0;n<e.tasks.length;n++)e.tasks[n]._id==a.payload.data._id&&(e.tasks[n]=a.payload.data);return Object.assign({},e,{tasks:e.tasks})}return e})),Object(u.a)((function(){return function(t){return function(e){var a;"object"!==typeof(a=e.payload)&&"function"!==typeof a||"function"!==typeof a.then?t(e):e.payload.then((function(a){return t(Object(j.a)(Object(j.a)({},e),{},{payload:a}))}))}}}))),p=a(29),h=a.n(p),O=a(40),m=a(12),v=a(41),x=a.n(v),k=new function t(){var e=this;Object(m.a)(this,t),this.GetData=function(){var t=Object(O.a)(h.a.mark((function t(a,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.SendRequest("get","http://localhost:8080/tasks"));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.StoreData=function(t){return e.SendRequest("post","http://localhost:8080/tasks",{},t)},this.UpdateTask=function(t,a){return e.SendRequest("post","http://localhost:8080/tasks/"+a,{},t)},this.SendRequest=function(t,e,a,n){return x.a.request({method:t,url:e,params:a,data:n})}},g=a(11),y=a(19),N=a(23),T=a(21),A=a(1),D=function(t){Object(N.a)(a,t);var e=Object(T.a)(a);function a(){return Object(m.a)(this,a),e.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return this.props.errors?this.props.errors.map((function(t){return Object(A.jsx)("h6",{className:"text-danger",children:t},t)})):null}}]),a}(n.Component),w=function(t){Object(N.a)(a,t);var e=Object(T.a)(a);function a(t){var n;return Object(m.a)(this,a),(n=e.call(this,t)).handleSubmit=function(){n.setState((function(t){var e=Object(j.a)(Object(j.a)({},t),{},{validationErrors:{}});return Object.values(n.formElements).forEach((function(t){t.checkValidity()||(e.validationErrors[t.name]=function(t){var e=[];return t.validity.valueMissing&&e.push("Value required"),t.validity.typeMismatch&&e.push("Invalid ".concat(t.type)),e}(t))})),e}),(function(){if(0===Object.keys(n.state.validationErrors).length){var t=Object.assign.apply(Object,Object(d.a)(Object.entries(n.formElements).map((function(t){return Object(g.a)({},t[0],t[1].value)}))));n.props.submitCallback(t)}}))},n.registerRef=function(t){null!==t&&(n.formElements[t.name]=t)},n.renderElement=function(t){var e=t.name||t.label.toLowerCase();return Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{style:{color:"white"},children:t.label}),Object(A.jsx)(D,{errors:n.state.validationErrors[e]}),Object(A.jsx)("input",Object(j.a)(Object(j.a)({className:"form-control",name:e,ref:n.registerRef},n.props.defaultAttrs),t.attrs))]},t.label)},n.state={validationErrors:{}},n.formElements={},n}return Object(y.a)(a,[{key:"render",value:function(){var t=this;return Object(A.jsxs)(r.a.Fragment,{children:[this.props.formModel.map((function(e){return t.renderElement(e)})),Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsx)("button",{className:"btn btn-secondary m-1",onClick:this.props.cancelCallback,children:this.props.cancelText||"Cancel"}),Object(A.jsx)("button",{className:"btn btn-primary m-1",onClick:this.handleSubmit,children:this.props.submitText||"Submit"})]})]})}}]),a}(n.Component);var E=function(t){var e=Object(o.g)(),a={};"undefined"!=typeof e.id&&(a=t.tasks.filter((function(t){return t._id==e.id}))[0]);var n=[{label:"description",attrs:{defaultValue:a?a.description:""}},{label:"deadline",attrs:{defaultValue:a?a.deadline:""}},{label:"progress",attrs:{defaultValue:a?a.progress:""}}];return Object(A.jsxs)("div",{className:"container-fluid",children:[Object(A.jsx)("div",{className:"row",children:Object(A.jsx)("div",{className:"col bg-dark text-white",children:Object(A.jsx)("div",{className:"navbar-brand",children:"Registro de Atividades"})})}),Object(A.jsx)("div",{className:"row",children:Object(A.jsx)("div",{className:"col m-2",children:Object(A.jsx)(w,{formModel:n,defaultAttrs:{type:"text",required:!0},submitCallback:function(a){var n=Object(j.a)({},a);e.id?t.updateTask(n,e.id):t.placeTask(n),t.history.push("/tasks/ini")},cancelCallback:function(){t.history.push("/tasks/ini")},submitText:"Registrar",cancelText:"Retornar"})})})]})},C=a(31);a(75);var S=function(t){var e=this;console.log(t);var a=Object(n.useState)({}),r=Object(C.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)(""),o=Object(C.a)(i,2),l=o[0],u=o[1],d=function(t){var e=t.split("/"),a=new Date(e[2],e[1]-1,e[0],0,0,0),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);return r>a?{background:"#E9967A",border:"2px solid #ffffff",marginTop:10,padding:"10px 20px"}:r.getTime()==a.getTime()?{background:"#efbc04",border:"2px solid #ffffff",marginTop:10,padding:"10px 20px"}:{background:"#9ACD32",border:"2px solid #ffffff",marginTop:10,padding:"10px 20px"}};return Object(A.jsxs)("div",{className:"container-fluid",children:[Object(A.jsx)("div",{className:"row",children:Object(A.jsx)("input",{type:"text",className:"inputsearch",onChange:function(t){u(t.target.value)}})}),Object(A.jsx)("div",{className:"emptydiv"}),Object(A.jsx)("div",{className:"row",children:Object(A.jsx)("h2",{className:"cabh4",children:"Atividades"})}),Object(A.jsx)("div",{children:t.tasks&&t.tasks.filter((function(t){return t.description.toLowerCase().includes(l.toLowerCase())&&"100%"!=t.progress})).map((function(a){return Object(A.jsxs)("div",{className:"card m-1 p-1",style:d(a.deadline),children:[Object(A.jsxs)("h6",{onClick:function(){return function(t){c(e);var a=!s[t];c(Object(j.a)(Object(j.a)({},s),{},Object(g.a)({},t,a)))}(a._id)},style:{color:"black",fontSize:16,fontWeight:"normal"},children:[a.description,Object(A.jsx)("span",{className:"float-right",children:Object(A.jsx)("h5",{style:{color:"black"},children:a.progress})})]}),s[a._id]&&Object(A.jsxs)("div",{className:"card-text bg-white p-1",children:[a.deadline,Object(A.jsx)("button",{className:"btn btn-success btn-sm float-right m-1 p-1",onClick:function(){return e=a,void t.history.push("/tasks/update/"+e._id);var e},children:"Editar"}),Object(A.jsx)("button",{className:"btn btn-success btn-sm float-right m-1 p-1",onClick:function(){return function(e){e.progress="100%";var a=e._id;delete e._id,t.updateTask(e,a)}(a)},children:"Concluir"})]})]},a._id)}))}),Object(A.jsx)("button",{className:"btn btn-success btn-sm float-right",onClick:function(){t.history.push("/tasks/new/")},children:"Nova Atividade"})]})};var _=function(t){return Object(A.jsx)("div",{className:"container-fluid",children:Object(A.jsx)("div",{className:"row",children:Object(A.jsx)("div",{className:"col-12 p-2",children:Object(A.jsx)(S,Object(j.a)({},t))})})})};var R=Object(l.b)((function(t){return{tasks:t.tasks.slice(0,40)}}),{getData:function(t,e){return{type:"DATA_LOADED",payload:k.GetData(t,e).then((function(t){return{data:t.data}}))}},updateTask:function(t,e){return{type:"UPDATE_DATA",payload:k.UpdateTask(t,e).then((function(t){return{data:t.data}}))}},placeTask:function(t){return{type:"STORE_DATA",payload:k.StoreData(t).then((function(t){return{data:t.data}}))}}})((function(t){return Object(n.useEffect)((function(){t.getData()}),[]),Object(A.jsxs)(o.d,{children:[Object(A.jsx)(o.b,{path:"/tasks/ini",render:function(e){return Object(A.jsx)(_,Object(j.a)(Object(j.a)({},t),e))}}),Object(A.jsx)(o.b,{path:"/tasks/update/:id",render:function(e){return Object(A.jsx)(E,Object(j.a)(Object(j.a)({},t),e))}}),Object(A.jsx)(o.b,{path:"/tasks/new",render:function(e){return Object(A.jsx)(E,Object(j.a)(Object(j.a)({},t),e))}}),Object(A.jsx)(o.a,{to:"/tasks/ini"})]})}));var q=function(){return Object(A.jsx)(l.a,{store:f,children:Object(A.jsx)(i.a,{children:Object(A.jsxs)(o.d,{children:[Object(A.jsx)(o.b,{path:"/tasks",component:R}),Object(A.jsx)(o.a,{to:"/tasks"})]})})})};c.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(q,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.6981a7aa.chunk.js.map